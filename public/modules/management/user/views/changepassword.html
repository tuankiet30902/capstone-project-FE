<div class="app flex-row align-items-center" style="margin-top:-55px"
    ng-controller="user_changepassword_controller as ctrl">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <div class="card-group">
                    <div class="card p-2">
                        <div class="card-body" style="border: 2px dashed  #20a8d8 ;">
                            <form class="form-horizontal" name="changePasswordForm" ng-hide="ctrl.success">
                                <h1 >{{'ChangePassword'|l}}</h1>
                                <div class="form-group mb-3">
                                    <div class="input-prepend input-group" ng-class="{ 'is-invalid': changePasswordForm.password_old.$invalid }">
                                        <div class="input-group-prepend"><span class="input-group-text">{{'Password'|l}}<span class="required">&nbsp;*</span></span>
                                        </div>
                                        <input type="password" placeholder="Password" name="password_old"
                                            class="form-control"
                                            ng-disabled="$root.statusValue.get(ctrl._ctrlName,'ChangePassword','changepassword','doing')"
                                            ng-model="ctrl.password"
                                            ng-class="{ 'is-invalid': changePasswordForm.password_old.$invalid }"
                                            required />
                                    </div>
                                </div>
                                <div class="form-group mb-3">
                                    <div class="input-prepend input-group" ng-class="{ 'is-invalid': changePasswordForm.password_new1.$invalid }">
                                        <div class="input-group-prepend"><span class="input-group-text">{{'NewPassword'|l}}<span class="required">&nbsp;*</span></span>
                                        </div>
                                        <input type="password" placeholder="New Password" name="password_new1"
                                            class="form-control"
                                            ng-disabled="$root.statusValue.get(ctrl._ctrlName,'ChangePassword','changepassword','doing')"
                                            ng-model="ctrl.newpassword1"
                                            ng-class="{ 'is-invalid': changePasswordForm.password_new1.$invalid }"
                                            required />
                                    </div>
                                </div>
                                <div class="form-group mb-3">
                                    <div class="input-prepend input-group" ng-class="{ 'is-invalid': changePasswordForm.password_new2.$invalid }">
                                        <div class="input-group-prepend"><span class="input-group-text">{{'RetypeNewPassword'|l}}<span class="required">&nbsp;*</span></span>
                                        </div>
                                        <input type="password" placeholder="Retype Password" name="password_new2"
                                            class="form-control"
                                            ng-disabled="$root.statusValue.get(ctrl._ctrlName,'ChangePassword','changepassword','doing')"
                                            ng-model="ctrl.newpassword2" vld-sync
                                            vld-sync-func="ctrl.comparePassword(model,params)"
                                            vld-sync-params="{val:ctrl.newpassword1}"
                                            ng-class="{ 'is-invalid': changePasswordForm.password_new2.$invalid }"
                                            required />
                                    </div>
                                    <invalid invalid-status="changePasswordForm.password_new2.$error.vldsync">
                                        {{'RetypePasswordMustBeSameNewPassword'|l}}.
                                    </invalid>
                                </div>

                                <div class="row">
                                    <div class="col-6">
                                        <button type="button" ng-click="ctrl.changepassword()"
                                            class="btn btn-primary px-4"
                                            ng-disabled="changePasswordForm.$invalid || $root.statusValue.get(ctrl._ctrlName,'ChangePassword','changepassword','doing')">
                                            {{'ChangePassword'|l}}</button>
                                        <my-async async-status-label="{{'ChangePassword'|l}}"
                                            async-ctrlname="{{ctrl._ctrlName}}" async-objname="ChangePassword"
                                            async-actionname="changepassword">
                                            <async-success>
                                            </async-success>
                                        </my-async>
                                    </div>
                                </div>
                            </form>
                            <div class="alert alert-success" role="alert" ng-show="ctrl.success">
                                <h4 class="alert-heading">{{'UpdateSuccessed'|l}}!</h4>
                                <p>{{'ChangePasswordSuccessed'|l}}.</p>
                                <hr>
                                <p class="mb-0">{{'TryToUseNewPassword'|l}}.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>